<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Settings - CCE Pocket</title>
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Settings</h1>
        <button id="reset-btn" class="icon-btn" title="Reset to Defaults">
            <svg width="20" height="20" fill="currentColor">
                <path d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
            </svg>
        </button>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Connection Section -->
        <div class="settings-section">
            <div class="section-title">Connection</div>
            
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Cloud URL</div>
                    <div class="setting-description" id="cloud-url-display">
                        https://ccecloud-production.up.railway.app
                    </div>
                </div>
                <button class="setting-action" id="edit-url-btn">Edit</button>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Connection Status</div>
                    <div class="setting-description" id="connection-status">
                        <span class="status-dot online"></span> Online
                    </div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Last Sync</div>
                    <div class="setting-description" id="last-sync-time">
                        Checking...
                    </div>
                </div>
                <button class="setting-action" id="sync-now-btn">Sync Now</button>
            </div>
        </div>

        <!-- Notifications Section -->
        <div class="settings-section">
            <div class="section-title">Notifications</div>
            
            <div class="setting-item">
                <div class="setting-info">
                    <label for="notify-state-changes" class="setting-label">State Changes</label>
                    <div class="setting-description">Get notified when trading state changes</div>
                </div>
                <label class="toggle">
                    <input type="checkbox" id="notify-state-changes" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <label for="notify-trades" class="setting-label">Trades</label>
                    <div class="setting-description">Get notified when trades execute</div>
                </div>
                <label class="toggle">
                    <input type="checkbox" id="notify-trades" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <label for="notify-system-alerts" class="setting-label">System Alerts</label>
                    <div class="setting-description">Critical alerts (node offline, errors)</div>
                </div>
                <label class="toggle">
                    <input type="checkbox" id="notify-system-alerts" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <label for="notify-daily-summary" class="setting-label">Daily Summary</label>
                    <div class="setting-description">Daily performance report</div>
                </div>
                <label class="toggle">
                    <input type="checkbox" id="notify-daily-summary">
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div class="setting-item" id="daily-time-setting">
                <div class="setting-info">
                    <label for="daily-summary-time" class="setting-label">Summary Time</label>
                    <div class="setting-description">When to receive daily summary</div>
                </div>
                <input type="time" id="daily-summary-time" value="08:00" class="time-input">
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Notification Permissions</div>
                    <div class="setting-description" id="notification-permission-status">
                        Not enabled
                    </div>
                </div>
                <button class="setting-action" id="request-permission-btn">Enable</button>
            </div>
        </div>

        <!-- Display Section -->
        <div class="settings-section">
            <div class="section-title">Display</div>
            
            <div class="setting-item">
                <div class="setting-info">
                    <label for="theme-select" class="setting-label">Theme</label>
                    <div class="setting-description">App color scheme</div>
                </div>
                <select id="theme-select" class="select-input" title="Select app theme">
                    <option value="dark">Dark</option>
                    <option value="light">Light (Coming Soon)</option>
                    <option value="auto">Auto (Coming Soon)</option>
                </select>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <label for="compact-mode" class="setting-label">Compact Mode</label>
                    <div class="setting-description">Smaller cards and spacing</div>
                </div>
                <label class="toggle">
                    <input type="checkbox" id="compact-mode" title="Enable compact mode">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <!-- Data Section -->
        <div class="settings-section">
            <div class="section-title">Data & Storage</div>
            
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Cache Size</div>
                    <div class="setting-description" id="cache-size">
                        Calculating...
                    </div>
                </div>
                <button class="setting-action" id="clear-cache-btn">Clear</button>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <label for="auto-refresh" class="setting-label">Auto-Refresh</label>
                    <div class="setting-description">Update data automatically</div>
                </div>
                <label class="toggle">
                    <input type="checkbox" id="auto-refresh" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <label for="refresh-interval" class="setting-label">Refresh Interval</label>
                    <div class="setting-description">How often to check for updates</div>
                </div>
                <select id="refresh-interval" class="select-input" title="Select refresh interval">
                    <option value="30">30 seconds</option>
                    <option value="60" selected>1 minute</option>
                    <option value="300">5 minutes</option>
                    <option value="600">10 minutes</option>
                </select>
            </div>
        </div>

        <!-- About Section -->
        <div class="settings-section">
            <div class="section-title">About</div>
            
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">App Version</div>
                    <div class="setting-description">1.0.0</div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Node Version</div>
                    <div class="setting-description" id="node-version">â€”</div>
                </div>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-label">Build Date</div>
                    <div class="setting-description">February 2026</div>
                </div>
            </div>

            <button class="action-btn" id="view-changelog-btn">
                <svg width="20" height="20" fill="currentColor">
                    <path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                </svg>
                View Changelog
            </button>

            <button class="action-btn" id="privacy-policy-btn">
                <svg width="20" height="20" fill="currentColor">
                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                </svg>
                Privacy Policy
            </button>

            <button class="action-btn" id="github-btn">
                <svg width="20" height="20" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                View on GitHub
            </button>
        </div>

        <!-- Danger Zone -->
        <div class="settings-section danger">
            <div class="section-title">Danger Zone</div>
            
            <button class="danger-btn" id="reset-all-btn">
                <svg width="20" height="20" fill="currentColor">
                    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                </svg>
                Reset All Settings
            </button>

            <button class="danger-btn" id="uninstall-btn">
                <svg width="20" height="20" fill="currentColor">
                    <path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                </svg>
                Uninstall App
            </button>
        </div>

        <!-- Footer -->
        <div class="settings-footer">
            <p>Made with discipline by <a href="https://gibletscreations.com" target="_blank" rel="noopener">Giblets Creations</a></p>
            <p class="footer-tagline">Sovereign. Deterministic. Disciplined.</p>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <svg width="24" height="24" fill="currentColor">
                <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
            </svg>
            <span>Home</span>
        </a>
        <a href="history.html" class="nav-item">
            <svg width="24" height="24" fill="currentColor">
                <path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
            </svg>
            <span>History</span>
        </a>
        <a href="settings.html" class="nav-item active">
            <svg width="24" height="24" fill="currentColor">
                <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
            </svg>
            <span>Settings</span>
        </a>
    </nav>

    <!-- URL Edit Modal -->
    <div id="url-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Edit Cloud URL</h3>
            <input type="url" id="url-input" class="text-input" placeholder="https://cce.gibletscreations.com">
            <div class="modal-actions">
                <button class="btn-secondary" id="cancel-url-btn">Cancel</button>
                <button class="btn-primary" id="save-url-btn">Save</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/settings.js"></script>
</body>
</html>